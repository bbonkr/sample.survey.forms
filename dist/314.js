(self.webpackChunksample_surver_forms=self.webpackChunksample_surver_forms||[]).push([[314],{3314:(e,n,r)=>{"use strict";r.r(n),r.d(n,{SurveyForm:()=>k});var t=r(7294),o=r(9669),i=r.n(o),a=r(5877);function l(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,i=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(t=r.next()).done)&&(i.push(t.value),!n||i.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(l)throw o}}return i}}(e,n)||u(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,n){if(e){if("string"==typeof e)return s(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,n):void 0}}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}var f=function(e){var n=e.record,r=e.onChange,o="".concat((0,a.v4)(),"-").concat(n.displayOrder),i=["Textbox","Datepicker"],u=c((0,t.useState)([""]),2),s=u[0],f=u[1],d=c((0,t.useState)([o]),2),p=d[0],y=d[1],m=function(e){return function(n){var r=n.currentTarget.value;"checkbox"!==n.currentTarget.type&&"radio"!==n.currentTarget.type||(r=n.currentTarget.checked?r:""),f((function(n){var t=l(n);return t.splice(e,1,r),t}))}},A=function(e){return function(){f((function(n){var r=l(n);return r.splice(e,1),r})),y((function(n){var r=l(n);return r.splice(e,1),r}))}};return(0,t.useEffect)((function(){r&&r(s.filter(Boolean).map((function(e){return e})))}),[s]),t.createElement("div",{className:"answer-container"},t.createElement("div",{className:"answers"},("RadioList"===n.controlType||"CheckBoxList"===n.controlType)&&t.createElement("div",null,n.controlSource&&n.controlSource.split(",").map((function(e){return t.createElement("label",{key:e},t.createElement("input",{type:"RadioList"===n.controlType?"radio":"check",name:o,value:e,onChange:m(0)})," ",e)}))),"CheckBoxList"===n.controlType&&t.createElement("div",null,n.controlSource&&n.controlSource.split(",").map((function(e,n){return t.createElement("label",{key:e},t.createElement("input",{type:"check",value:e,onChange:m(n)})," ",e)}))),"Textbox"===n.controlType&&i.find((function(e){return e===n.controlType}))&&(null==p?void 0:p.map((function(e,r){return t.createElement("div",{key:e},t.createElement("input",{id:e,name:e,type:"text",placeholder:n.placeholder,value:s[r],onChange:m(r),required:n.isRequired}),r>0&&t.createElement("button",{onClick:A(r)},"Remove"))}))),"Datepicker"===n.controlType&&i.find((function(e){return e===n.controlType}))&&(null==p?void 0:p.map((function(e,r){return t.createElement("div",{key:e},t.createElement("input",{id:e,name:e,type:"date",placeholder:n.placeholder,value:s[r],onChange:m(r),required:n.isRequired}),r>0&&t.createElement("button",{onClick:A(r)},"Remove"))})))),n.isMultiple&&t.createElement("div",null,t.createElement("button",{onClick:function(){f((function(e){return[].concat(l(e),[""])})),y((function(e){return[].concat(l(e),["".concat(o,"-").concat(e.length+1)])}))}},"Add more answer")))};function d(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function y(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?p(Object(r),!0).forEach((function(n){m(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function m(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function A(e,n){if(e){if("string"==typeof e)return b(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,n):void 0}}function b(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}var v=function(e){var n,r,o=e.record,i=e.onChange,a=(n=(0,t.useState)((function(){var e;return y(y({},o),{},{answers:d(null!==(e=o.answers)&&void 0!==e?e:[])})})),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,i=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(t=r.next()).done)&&(i.push(t.value),!n||i.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(l)throw o}}return i}}(n,r)||A(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=a[0],c=a[1],u=(0,t.useCallback)((function(e){c((function(n){return y(y({},n),{},{answers:d(e)})}))}),[]);return(0,t.useEffect)((function(){i&&i(o.displayOrder,l)}),[l]),t.createElement("div",null,t.createElement("h3",null,o.question),t.createElement("div",{className:"is-flex is-flex-direction-row answers-container"},t.createElement("div",null,t.createElement(f,{key:l.displayOrder,record:l,onChange:u}))))};function h(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function w(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?g(Object(r),!0).forEach((function(n){E(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function E(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function O(e,n){if(e){if("string"==typeof e)return C(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,n):void 0}}function C(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}var I=function(e){var n,r,o=e.record,i=(n=(0,t.useState)((function(){return w({},o)})),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,i=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(t=r.next()).done)&&(i.push(t.value),!n||i.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(l)throw o}}return i}}(n,r)||O(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],l=i[1],c=(0,t.useCallback)((function(e,n){l((function(r){var t=r.questions.findIndex((function(n){return n.displayOrder===e}));if(t>=0){var o=r.questions.find((function(n){return n.displayOrder===e}));o&&r.questions.splice(t,1,w(w({},o),n))}return w(w({},r),{},{questions:h(r.questions)})}))}),[]);return(0,t.useEffect)((function(){}),[a]),t.createElement("div",null,t.createElement("h2",null,o.title),o.questions.sort((function(e,n){return e.displayOrder>n.displayOrder?1:-1})).map((function(e){return t.createElement(v,{key:e.displayOrder,record:e,onChange:c})})),t.createElement("div",null,t.createElement("button",{onClick:function(){}},"Submit")),t.createElement("div",null,t.createElement("h2",null,"Result data:"),a&&t.createElement("pre",null,JSON.stringify(a,null,4))))},S=r(3379),j=r.n(S),x=r(8895);function B(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}j()(x.Z,{insert:"head",singleton:!1}),x.Z.locals;var k=function(){var e,n,r=(e=(0,t.useState)(),n=2,function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,i=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(t=r.next()).done)&&(i.push(t.value),!n||i.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return B(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],a=r[1];return(0,t.useEffect)((function(){i().get("https://raw.githubusercontent.com/bbonkr/sample.survey.forms/main/sample/sample.json").then((function(e){a((function(n){return e.data}))})).catch((function(e){console.error(e)}))}),[]),t.createElement("div",null,o&&t.createElement(I,{record:o}))}},8895:(e,n,r)=>{"use strict";r.d(n,{Z:()=>l});var t=r(4015),o=r.n(t),i=r(3645),a=r.n(i)()(o());a.push([e.id,".is-flex {\n    display: flex;\n\n}\n\n.is-flex-direction-column {\n    flex-direction: column;\n}\n\n.is-flex-direction-row {\n    flex-direction: row;\n}\n\n.answers-container>div {\n    background-color: #e1e1e1;\n    padding: 0.6rem;\n    flex: 1;\n}\n\n.answers-container>div:not(:last-child) {\n    margin-right: 1rem;\n}\n\n.answers-container>div .help {\n    font-size: small;\n    color: #afafaf;\n    padding: 0.3rem;\n}\n\n.answer-container:not(:last-child) {\n    margin-bottom: 0.6rem;\n}\n\n.answers {\n    display: flex;\n    flex-direction: column;\n}\n\n.answer-container input:invalid:required {\n    border: 2px solid red;\n}\n\n.answer-container input:required {\n    border: 2px solid orange;\n}\n\n.answer-container input:valid:required {\n    border: 2px solid greenyellow;\n}","",{version:3,sources:["webpack://./src/components/SurveyForm/style.css"],names:[],mappings:"AAAA;IACI,aAAa;;AAEjB;;AAEA;IACI,sBAAsB;AAC1B;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,yBAAyB;IACzB,eAAe;IACf,OAAO;AACX;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,gBAAgB;IAChB,cAAc;IACd,eAAe;AACnB;;AAEA;IACI,qBAAqB;AACzB;;AAEA;IACI,aAAa;IACb,sBAAsB;AAC1B;;AAEA;IACI,qBAAqB;AACzB;;AAEA;IACI,wBAAwB;AAC5B;;AAEA;IACI,6BAA6B;AACjC",sourcesContent:[".is-flex {\n    display: flex;\n\n}\n\n.is-flex-direction-column {\n    flex-direction: column;\n}\n\n.is-flex-direction-row {\n    flex-direction: row;\n}\n\n.answers-container>div {\n    background-color: #e1e1e1;\n    padding: 0.6rem;\n    flex: 1;\n}\n\n.answers-container>div:not(:last-child) {\n    margin-right: 1rem;\n}\n\n.answers-container>div .help {\n    font-size: small;\n    color: #afafaf;\n    padding: 0.3rem;\n}\n\n.answer-container:not(:last-child) {\n    margin-bottom: 0.6rem;\n}\n\n.answers {\n    display: flex;\n    flex-direction: column;\n}\n\n.answer-container input:invalid:required {\n    border: 2px solid red;\n}\n\n.answer-container input:required {\n    border: 2px solid orange;\n}\n\n.answer-container input:valid:required {\n    border: 2px solid greenyellow;\n}"],sourceRoot:""}]);const l=a}}]);